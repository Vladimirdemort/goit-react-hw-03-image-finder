{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/SearchBar/Searchbar.js","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","Button","onClick","className","s","type","ImageGalleryItem","url","alt","onGetImg","largeImageURL","src","width","ImageGalleryItemImage","modalRoot","document","querySelector","Modal","onCloseByClick","e","target","nodeName","props","onClose","onCloseByKedown","code","console","log","window","addEventListener","this","removeEventListener","createPortal","Overlay","img","Component","ImageGallery","state","mainURL","secondaryURL","myKey","imageList","query","page","status","error","showModal","modalImage","loadMore","setState","prev","fetch","then","res","ok","json","Promise","reject","Error","response","hits","catch","toggleModal","setModalImg","prevProps","prevState","prevImage","imageName","nextImage","changedImageName","split","join","map","image","id","webformatURL","tags","toString","length","color","height","timeout","React","Searchbar","handleChange","currentTarget","value","handleSubmit","event","preventDefault","trim","onSubmit","SearchForm","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoomplete","autoFocus","placeholder","onChange","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.00f5dc11.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3lXiS\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2vBeE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__26ZyM\",\"Modal\":\"Modal_Modal__2gV47\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__tXl3K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2sSmw\"};","import React from 'react';\r\nimport s from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button className={s.Button} type={'button'} onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\nexport default function ImageGalleryItem({\r\n  url,\r\n  alt,\r\n  onGetImg,\r\n  largeImageURL,\r\n}) {\r\n  return (\r\n    <li\r\n      className={s.ImageGalleryItem}\r\n      onClick={() => {\r\n        onGetImg(largeImageURL, alt);\r\n      }}\r\n    >\r\n      <img\r\n        src={url}\r\n        alt={alt}\r\n        width=\"200\"\r\n        className={s.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  url: PropTypes.string,\r\n  alt: PropTypes.string,\r\n  onGetImg: PropTypes.func,\r\n  largeImageURL: PropTypes.string,\r\n};\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    console.log('componentDidMount');\r\n    window.addEventListener('click', this.onCloseByClick);\r\n    window.addEventListener('keydown', this.onCloseByKedown);\r\n  }\r\n  componentWillUnmount() {\r\n    console.log('componentWillUnmount');\r\n    window.removeEventListener('keydown', this.onCloseByKedown);\r\n  }\r\n  onCloseByClick = e => {\r\n    if (e.target.nodeName === 'DIV') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  onCloseByKedown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n  render() {\r\n    const { onGetImg, onClose } = this.props;\r\n    return createPortal(\r\n      <div className={s.Overlay} onClose={onClose}>\r\n        <div className={s.Modal}>\r\n          <img src={onGetImg.img} alt={onGetImg.alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  onGetImg: PropTypes.object,\r\n  onClose: PropTypes.func,\r\n};\r\n","import Button from 'components/Button/Button';\r\nimport ImageGalleryItem from 'components/ImageGalleryItem/ImageGalleryItem';\r\nimport Modal from 'components/Modal/Modal';\r\nimport React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport s from './ImageGallery.module.css';\r\n\r\nclass ImageGallery extends React.Component {\r\n  state = {\r\n    mainURL: 'https://pixabay.com/api/',\r\n    secondaryURL: '&image_type=photo&orientation=horizontal&per_page=12',\r\n    myKey: '23677072-ad1f1d27f5221362a9cf8bc21',\r\n    imageList: [],\r\n    query: '',\r\n    page: 1,\r\n    status: 'idle',\r\n    error: null,\r\n\r\n    showModal: false,\r\n    modalImage: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevImage = prevProps.imageName;\r\n    const nextImage = this.props.imageName;\r\n    if (prevImage !== nextImage) {\r\n      this.setState({ status: 'pending' });\r\n\r\n      this.setState({ status: 'pending' });\r\n      const changedImageName = nextImage.split(' ').join('+');\r\n      this.setState({ query: changedImageName });\r\n      const { mainURL, secondaryURL, page, myKey } = this.state;\r\n      fetch(\r\n        `${mainURL}?key=${myKey}&q=${changedImageName}&${secondaryURL}&page=${page}`,\r\n      )\r\n        .then(res => res.json())\r\n        .then(imageList =>\r\n          this.setState(prev => ({\r\n            imageList: imageList.hits,\r\n            page: prev.page + 1,\r\n            status: 'resolved',\r\n          })),\r\n        );\r\n    }\r\n    console.log(this.state.imageList);\r\n  }\r\n\r\n  loadMore = () => {\r\n    this.setState(prev => ({ page: prev.page + 1 }));\r\n\r\n    const { mainURL, secondaryURL, query, page, myKey } = this.state;\r\n\r\n    fetch(`${mainURL}?q=${query}&page=${page}&key=${myKey}${secondaryURL}`)\r\n      .then(res => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        }\r\n\r\n        return Promise.reject(new Error(` Can't find ${query}`));\r\n      })\r\n      .then(response =>\r\n        this.setState(prev => ({\r\n          imageList: [...prev.imageList, ...response.hits],\r\n          status: 'resolved',\r\n        })),\r\n      )\r\n      .catch(error => this.setState({ error }));\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n  setModalImg = (img, alt) => {\r\n    this.setState({ modalImage: { img: img, alt: alt }, showModal: true });\r\n  };\r\n  render() {\r\n    const imageList = this.state.imageList.map(image => {\r\n      const { id, webformatURL, tags, largeImageURL } = image;\r\n      return (\r\n        <>\r\n          <ImageGalleryItem\r\n            key={id.toString()}\r\n            url={webformatURL}\r\n            alt={tags}\r\n            largeImageURL={largeImageURL}\r\n            onGetImg={this.setModalImg}\r\n          />\r\n        </>\r\n      );\r\n    });\r\n    return (\r\n      <>\r\n        <ul className={s.ImageGallery}>{imageList}</ul>\r\n        {this.state.imageList.length !== 0 && (\r\n          <Button onClick={this.loadMore} />\r\n        )}\r\n        {this.state.status === 'pending' && (\r\n          <Loader\r\n            type=\"Puff\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000}\r\n          />\r\n        )}\r\n        {this.state.showModal && (\r\n          <Modal onGetImg={this.state.modalImage} onClose={this.toggleModal} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React from 'react';\r\nimport s from './SearchBar.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Searchbar extends React.Component {\r\n  state = {\r\n    imageName: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({\r\n      imageName: e.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    if (this.state.imageName.trim() === '') {\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.imageName);\r\n    this.setState({\r\n      imageName: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoomplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.imageName}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n","import ImageGallery from 'components/ImageGallery/ImageGallery';\nimport Searchbar from 'components/SearchBar/Searchbar';\nimport React from 'react';\n\nimport './App.css';\n\nclass App extends React.Component {\n  state = {\n    imageName: '',\n  };\n  handleFormSubmit = imageName => {\n    this.setState({ imageName });\n  };\n\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery imageName={this.state.imageName} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__DEthE\",\"SearchForm\":\"SearchBar_SearchForm__1to5V\",\"SearchFormButton\":\"SearchBar_SearchFormButton__27zqC\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__1X9Gn\",\"SearchFormInput\":\"SearchBar_SearchFormInput__5T-PZ\"};"],"sourceRoot":""}